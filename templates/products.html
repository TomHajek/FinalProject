{% extends 'base.html' %}
{% load static %}

{% block content %}
    <!-- Filtr -->
    <div class="product-filter">
        <form class="filter-form" method="get">
            {{ filter.form }}
            <input class="filter-button" type="submit" value="Set">
        </form>
    </div>
    <hr class="filter-hr">
    <div class="flexbox">
        {% for product in filter.qs %}
        {#  { for product in products %} #}
            <div class="content-container">
                <!-- Obrázek produktu -->
                <div class="image-container">
                    {% if product.image_url %}
                        <img class="thumbnail" src="{{product.image_url}}" alt="{{product.id}}">
                    {% else %}
                        <img class="thumbnail" src="{% static "images/placeholder.png" %}" alt="{{product.id}}">
                    {% endif %}
                </div>
                <!-- Informace o produktu -->
                <div class="element-container">
				    <h3>{{product.name}}</h3>
				    <hr>
                    <div class="underline-details">
                        <!-- Tlačítko - Přidat do košíku -->
                        <button type="submit"
                                class="product-add-button update-cart"
                                data-product="{{product.id}}"
                                data-action="add">
                            Add to Cart
                        </button>
                        <!-- Tlačítko - Detail produktu -->
                        <a hidden class="view-button">
                            View
                        </a>
				        <h3>{{product.price}} CZK</h3>   <!-- {{product.currency}} -->
                    </div>
                </div>
                <!-- Pop-up view -->
                <div class="popup-view">
                    <div class="popup-card">
                        <a><i class="fas fa-times close-btn" aria-hidden="true"></i></a>
                        <div class="product-img">
                            {% if product.image_url %}
                                <img class="product-image" src="{{product.image_url}}" alt="{{product.id}}">
                            {% else %}
                                <img class="product-image" src="{% static "images/placeholder.png" %}" alt="{{product.id}}">
                            {% endif %}
                        </div>
                        <div class="detail-info">
                            <h3>{{product.name}}</h3>
                            <hr>
                            <p>{{product.description}}</p>
                            <hr>
                            <span class="price">{{product.price}} CZK</span>
                            <button type="submit"
                                    class="product-add-button update-cart"
                                    data-product="{{product.id}}"
                                    data-action="add">
                                Add to Cart
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
{% endblock content %}

<div class="modal-container">
    <div class="modal">
        <h1> Modals are cool</h1>
        <p>Lorem ipsum dolor sit</p>

    </div>

</div>

